import{r as x,u as h,k as b,o as y,c as v,f as w,a as e,d as s,t as l,i as E,n as m,b as a,v as d,F as M,e as P}from"./index-f8f037e0.js";import{_ as S}from"./Navbar-3988b9f9.js";const A={class:"container mx-auto px-4 py-8"},k={class:"lg:flex"},F={class:"lg:w-1/3"},O=["src"],R={class:"lg:w-2/3 lg:pl-8 lg:pt-1"},U=e("h1",{class:"text-2xl font-bold mb-4"},"MY PROFILE",-1),B={class:"text-2xl font-bold mb-4"},C={class:"text-2xl font-bold mb-4"},I={class:"text-2xl font-bold mb-4"},T={class:"text-2xl font-bold mb-4"},D={class:"text-2xl font-bold mb-4"},L={class:"container mx-auto px-4 py-8"},Y={class:"lg:flex"},N={class:"lg:w-3/3 lg:pl-8 lg:pt-1"},K=e("h1",{class:"text-2xl font-bold mb-4"},"BECOME A PREMIUM MEMBER",-1),V={class:"sm:col-span-2 sm:col-start-1 mt-2 mb-2"},j=e("label",{for:"file",class:"block text-sm font-medium leading-6 text-gray-900"},"Identification",-1),q={class:"mt-2"},$={class:"sm:col-span-2 sm:col-start-1 mt-2 mb-2"},z=e("label",{for:"file",class:"block text-sm font-medium leading-6 text-gray-900"},"Address certificate",-1),G={class:"mt-2"},H={class:"sm:col-span-2 sm:col-start-1 mt-2 mb-2"},J=e("label",{for:"file",class:"block text-sm font-medium leading-6 text-gray-900"},"Status account certificate",-1),Q={class:"mt-2"},W=e("p",{class:"mt-3 mb-3"},[P("* to become a Premium user and take advantage of all the benefits you must complete the registration forms "),e("strong",null," Identification, Proof of address, Proof of account status. ")],-1),X={class:"mt-3 mb-3"},Z={class:"mt-3"},ee={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center"},te=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75"},null,-1),se={class:"space-y-12"},oe=e("div",{class:"border-b border-gray-900/10 pb-12"},[e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"MY PROFILE")],-1),ie={class:"border-b border-gray-900/10 pb-12"},ne={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},le={class:"sm:col-span-3"},re=e("label",{for:"title",class:"block text-sm font-medium leading-6 text-gray-900"},"Name",-1),ae={class:"mt-2"},de={class:"sm:col-span-3"},ce=e("label",{for:"description",class:"block text-sm font-medium leading-6 text-gray-900"},"Address",-1),ue={class:"mt-2"},me={class:"sm:col-span-3"},fe=e("label",{for:"description",class:"block text-sm font-medium leading-6 text-gray-900"},"Phone",-1),ge={class:"mt-2"},pe={class:"sm:col-span-2 sm:col-start-1"},_e=e("label",{for:"file",class:"block text-sm font-medium leading-6 text-gray-900"},"Images",-1),xe={class:"mt-2"},ve={__name:"ProfileView",setup(he){let n=x(!1);const t=h();t.fetchProfileData(),b(()=>{window.scrollTo({top:0,behavior:"smooth"})});function f(){n.value=!1}async function g(){if(console.log(t.identification_file),console.log(t.address_file),console.log(t.status_account_file),t.user.role=="admin"){Swal.fire({title:"Error!",text:"You dont have permissons to change your role to premium!",icon:"error",confirmButtonText:"OK"});return}if(t.user.role=="premium"){Swal.fire({title:"Success!",text:"You are ALREADY a PREMIUM member!",icon:"success",confirmButtonText:"OK"});return}if((!t.identification_file||t.identification_file.length==0)&&(!t.address_file||t.address_file.length==0)&&(!t.status_account_file||t.status_account_file.length==0)){Swal.fire({title:"Error!",text:"you must upload at least 1 document!",icon:"error",confirmButtonText:"OK"});return}console.log("AL LEAST ONE FILE FOUND"),await t.uploadPremiumFiles()}async function p(){if(t.user.role=="admin"){Swal.fire({title:"Error!",text:"You dont have permissons to change your role to premium!",icon:"error",confirmButtonText:"OK"});return}if(t.user.role=="premium"){Swal.fire({title:"Success!",text:"You are ALREADY a PREMIUM member!",icon:"success",confirmButtonText:"OK"});return}await t.updatePremiumMembrecy()}async function _(){var o,i,c,u;const r=await t.updateProfile();console.log((o=r.data)==null?void 0:o.status),((i=r.data)==null?void 0:i.status)==200?(n.value=!1,Swal.fire({title:"Success!",icon:"success",text:((c=r.data)==null?void 0:c.message)??"Succesfully updated!",confirmButtonText:"OK"})):Swal.fire({title:"Error!",text:((u=r.data)==null?void 0:u.message)??"Unknown error updating profile, please try again later.",icon:"error",confirmButtonText:"OK"})}return(r,o)=>(y(),v(M,null,[w(S),e("div",A,[e("div",k,[e("div",F,[e("img",{src:s(t).user.profile_picture?s(t).user.profile_picture:"./src/assets/profile-default.png",alt:"Shoe",class:"w-full h-auto object-contain"},null,8,O)]),e("div",R,[U,e("h1",B,"USERNAME: "+l(s(t).user.username),1),e("h1",C,"ROLE: "+l(s(t).user.role),1),e("h1",I,"NAME: "+l(s(t).user.profile_name??""),1),e("h2",T," PHONE: "+l(s(t).user.profile_phone??""),1),e("h2",D," ADDRESS: "+l(s(t).user.profile_address??""),1),e("div",null,[e("a",{onClick:o[0]||(o[0]=i=>E(n)?n.value=!s(n):n=!s(n)),class:"cursor-pointer flex items-center justify-center md:w-[412px] rounded-md bg-gray-900 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},l("UPDATE MY PROFILE"))])])])]),e("div",L,[e("div",Y,[e("div",N,[K,e("div",V,[j,e("div",q,[e("input",{type:"file",onChange:o[1]||(o[1]=(...i)=>s(t).handleFileIdentification&&s(t).handleFileIdentification(...i))},null,32)])]),e("div",$,[z,e("div",G,[e("input",{type:"file",onChange:o[2]||(o[2]=(...i)=>s(t).handleFileAddress&&s(t).handleFileAddress(...i))},null,32)])]),e("div",H,[J,e("div",Q,[e("input",{type:"file",onChange:o[3]||(o[3]=(...i)=>s(t).handleFileStatusAccount&&s(t).handleFileStatusAccount(...i))},null,32)])]),W,e("div",X,[e("a",{onClick:o[4]||(o[4]=i=>g()),class:"cursor-pointer flex items-center justify-center md:w-[412px] rounded-md bg-gray-900 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},l("UPLOAD FILES"))]),e("div",Z,[e("a",{onClick:o[5]||(o[5]=i=>p()),class:"cursor pointer bg-green-600 cursor-pointer flex items-center justify-center md:w-[412px] rounded-md bg-gray-900 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},l("GET MY PREMIUM MEMBRECY!"))])])])]),e("div",{class:m([s(n)?"scale-100":"","fixed scale-0 z-10 inset-0 overflow-y-auto"])},[e("div",ee,[te,e("div",{class:m([s(n)?"scale-100":"","transform scale-0 transition-transform duration-300 relative z-10 w-full max-w-md p-6 bg-white rounded-lg shadow-lg"])},[e("div",se,[oe,e("div",ie,[e("div",ne,[e("div",le,[re,e("div",ae,[a(e("input",{required:"required","onUpdate:modelValue":o[6]||(o[6]=i=>s(t).user.profile_name=i),type:"text",name:"profile_name",id:"profile_name",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[d,s(t).user.profile_name]])])]),e("div",de,[ce,e("div",ue,[a(e("input",{required:"required","onUpdate:modelValue":o[7]||(o[7]=i=>s(t).user.profile_address=i),type:"text",name:"profile_address",id:"profile_address",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[d,s(t).user.profile_address]])])]),e("div",me,[fe,e("div",ge,[a(e("input",{required:"required","onUpdate:modelValue":o[8]||(o[8]=i=>s(t).user.profile_phone=i),type:"text",name:"profile_phone",id:"profile_phone",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[d,s(t).user.profile_phone]])])]),e("div",pe,[_e,e("div",xe,[e("input",{type:"file",onChange:o[9]||(o[9]=(...i)=>s(t).handleFileUpload&&s(t).handleFileUpload(...i))},null,32)])])])])]),e("div",{class:"flex justify-between mt-6"},[e("button",{onClick:_,class:"px-4 py-2 text-sm font-medium text-white bg-green-500 rounded hover:bg-green-600 focus:outline-none focus:ring focus:ring-green-500"}," UPDATE "),e("button",{onClick:f,class:"px-4 py-2 text-sm font-medium text-white bg-green-500 rounded hover:bg-green-600 focus:outline-none focus:ring focus:ring-green-500"}," BACK ")])],2)])],2)],64))}};export{ve as default};
