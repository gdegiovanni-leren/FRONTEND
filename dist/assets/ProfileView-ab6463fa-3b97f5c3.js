import{K as e,A as b,T as y,q as h,P as v,v as w,S as E,p as s,X as n,g as _,t as m,Z as c,s as d,a as A,j as P}from"./index-c2be6f26.js";import{E as S}from"./Navbar-a4e8e732-1eb05fa5.js";const M={class:"container mx-auto px-4 py-8"},k={class:"lg:flex"},O={class:"lg:w-1/3"},F=["src"],U={class:"lg:w-2/3 lg:pl-8 lg:pt-1"},I=e("h1",{class:"text-2xl font-bold mb-4"},"MY PROFILE",-1),R={class:"text-2xl font-bold mb-4"},T={class:"text-2xl font-bold mb-4"},C={class:"text-2xl font-bold mb-4"},B={class:"text-2xl font-bold mb-4"},K={class:"text-2xl font-bold mb-4"},L={class:"container mx-auto px-4 py-8"},Y={class:"lg:flex"},D={class:"lg:w-3/3 lg:pl-8 lg:pt-1"},j=e("h1",{class:"text-2xl font-bold mb-4"},"BECOME A PREMIUM MEMBER",-1),q={class:"sm:col-span-2 sm:col-start-1 mt-2 mb-2"},N=e("label",{for:"file",class:"block text-sm font-medium leading-6 text-gray-900"},"Identification",-1),V={class:"mt-2"},z={class:"sm:col-span-2 sm:col-start-1 mt-2 mb-2"},X=e("label",{for:"file",class:"block text-sm font-medium leading-6 text-gray-900"},"Address certificate",-1),Z={class:"mt-2"},G={class:"sm:col-span-2 sm:col-start-1 mt-2 mb-2"},H=e("label",{for:"file",class:"block text-sm font-medium leading-6 text-gray-900"},"Status account certificate",-1),$={class:"mt-2"},J=e("p",{class:"mt-3 mb-3"},[b("* to become a Premium user and take advantage of all the benefits you must complete the registration forms "),e("strong",null," Identification, Proof of address, Proof of account status. ")],-1),Q={class:"mt-3 mb-3"},W={class:"mt-3"},ee={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center"},te=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75"},null,-1),se={class:"space-y-12"},le=e("div",{class:"border-b border-gray-900/10 pb-12"},[e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"MY PROFILE")],-1),ie={class:"border-b border-gray-900/10 pb-12"},re={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},ne={class:"sm:col-span-3"},oe=e("label",{for:"title",class:"block text-sm font-medium leading-6 text-gray-900"},"Name",-1),ae={class:"mt-2"},ce={class:"sm:col-span-3"},de=e("label",{for:"description",class:"block text-sm font-medium leading-6 text-gray-900"},"Address",-1),ue={class:"mt-2"},me={class:"sm:col-span-3"},fe=e("label",{for:"description",class:"block text-sm font-medium leading-6 text-gray-900"},"Phone",-1),ge={class:"mt-2"},pe={class:"sm:col-span-2 sm:col-start-1"},xe=e("label",{for:"file",class:"block text-sm font-medium leading-6 text-gray-900"},"Images",-1),be={class:"mt-2"},we={__name:"ProfileView",setup(ye){let r=y(!1);const t=h();t.fetchProfileData(),v(()=>{window.scrollTo({top:0,behavior:"smooth"})});function f(){r.value=!1}async function g(){if(console.log(t.identification_file),console.log(t.address_file),console.log(t.status_account_file),t.user.role=="admin"){Swal.fire({title:"Error!",text:"You dont have permissons to change your role to premium!",icon:"error",confirmButtonText:"OK"});return}if(t.user.role=="premium"){Swal.fire({title:"Success!",text:"You are ALREADY a PREMIUM member!",icon:"success",confirmButtonText:"OK"});return}if((!t.identification_file||t.identification_file.length==0)&&(!t.address_file||t.address_file.length==0)&&(!t.status_account_file||t.status_account_file.length==0)){Swal.fire({title:"Error!",text:"you must upload at least 1 document!",icon:"error",confirmButtonText:"OK"});return}console.log("AL LEAST ONE FILE FOUND"),await t.uploadPremiumFiles()}async function p(){if(t.user.role=="admin"){Swal.fire({title:"Error!",text:"You dont have permissons to change your role to premium!",icon:"error",confirmButtonText:"OK"});return}if(t.user.role=="premium"){Swal.fire({title:"Success!",text:"You are ALREADY a PREMIUM member!",icon:"success",confirmButtonText:"OK"});return}await t.updatePremiumMembrecy()}async function x(){var a,l,i,u;const o=await t.updateProfile();console.log((a=o.data)==null?void 0:a.status),((l=o.data)==null?void 0:l.status)==200?(r.value=!1,Swal.fire({title:"Success!",icon:"success",text:((i=o.data)==null?void 0:i.message)??"Succesfully updated!",confirmButtonText:"OK"})):Swal.fire({title:"Error!",text:((u=o.data)==null?void 0:u.message)??"Unknown error updating profile, please try again later.",icon:"error",confirmButtonText:"OK"})}return(a,l)=>(P(),w(A,null,[E(S),e("div",M,[e("div",k,[e("div",O,[e("img",{src:s(t).user.profile_picture?s(t).user.profile_picture:"./src/assets/profile-default.png",class:"w-full h-auto object-contain"},null,8,F)]),e("div",U,[I,e("h1",R,"USERNAME: "+n(s(t).user.username),1),e("h1",T,"ROLE: "+n(s(t).user.role),1),e("h1",C,"NAME: "+n(s(t).user.profile_name??""),1),e("h2",B," PHONE: "+n(s(t).user.profile_phone??""),1),e("h2",K," ADDRESS: "+n(s(t).user.profile_address??""),1),e("div",null,[e("a",{onClick:l[0]||(l[0]=i=>_(r)?r.value=!s(r):r=!s(r)),class:"cursor-pointer flex items-center justify-center md:w-[412px] rounded-md bg-gray-900 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},n("UPDATE MY PROFILE"))])])])]),e("div",L,[e("div",Y,[e("div",D,[j,e("div",q,[N,e("div",V,[e("input",{type:"file",onChange:l[1]||(l[1]=(...i)=>s(t).handleFileIdentification&&s(t).handleFileIdentification(...i))},null,32)])]),e("div",z,[X,e("div",Z,[e("input",{type:"file",onChange:l[2]||(l[2]=(...i)=>s(t).handleFileAddress&&s(t).handleFileAddress(...i))},null,32)])]),e("div",G,[H,e("div",$,[e("input",{type:"file",onChange:l[3]||(l[3]=(...i)=>s(t).handleFileStatusAccount&&s(t).handleFileStatusAccount(...i))},null,32)])]),J,e("div",Q,[e("a",{onClick:l[4]||(l[4]=i=>g()),class:"cursor-pointer flex items-center justify-center md:w-[412px] rounded-md bg-gray-900 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},n("UPLOAD FILES"))]),e("div",W,[e("a",{onClick:l[5]||(l[5]=i=>p()),class:"cursor pointer bg-green-600 cursor-pointer flex items-center justify-center md:w-[412px] rounded-md bg-gray-900 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},n("GET MY PREMIUM MEMBRECY!"))])])])]),e("div",{class:m([s(r)?"scale-100":"","fixed scale-0 z-10 inset-0 overflow-y-auto"])},[e("div",ee,[te,e("div",{class:m([s(r)?"scale-100":"","transform scale-0 transition-transform duration-300 relative z-10 w-full max-w-md p-6 bg-white rounded-lg shadow-lg"])},[e("div",se,[le,e("div",ie,[e("div",re,[e("div",ne,[oe,e("div",ae,[c(e("input",{required:"required","onUpdate:modelValue":l[6]||(l[6]=i=>s(t).user.profile_name=i),type:"text",name:"profile_name",id:"profile_name",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[d,s(t).user.profile_name]])])]),e("div",ce,[de,e("div",ue,[c(e("input",{required:"required","onUpdate:modelValue":l[7]||(l[7]=i=>s(t).user.profile_address=i),type:"text",name:"profile_address",id:"profile_address",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[d,s(t).user.profile_address]])])]),e("div",me,[fe,e("div",ge,[c(e("input",{required:"required","onUpdate:modelValue":l[8]||(l[8]=i=>s(t).user.profile_phone=i),type:"text",name:"profile_phone",id:"profile_phone",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[d,s(t).user.profile_phone]])])]),e("div",pe,[xe,e("div",be,[e("input",{type:"file",onChange:l[9]||(l[9]=(...i)=>s(t).handleFileUpload&&s(t).handleFileUpload(...i))},null,32)])])])])]),e("div",{class:"flex justify-between mt-6"},[e("button",{onClick:x,class:"px-4 py-2 text-sm font-medium text-white bg-green-500 rounded hover:bg-green-600 focus:outline-none focus:ring focus:ring-green-500"}," UPDATE "),e("button",{onClick:f,class:"px-4 py-2 text-sm font-medium text-white bg-green-500 rounded hover:bg-green-600 focus:outline-none focus:ring focus:ring-green-500"}," BACK ")])],2)])],2)],64))}};export{we as default};
